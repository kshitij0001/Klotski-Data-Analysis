# Klotski Dataset Features Documentation

## Dataset Overview
This document describes the 22 features included in the enhanced Klotski puzzle dataset generated by `enhanced_data_generator_final.py`. The dataset supports both BFS and A* search algorithms with Manhattan distance heuristics for comprehensive puzzle analysis.

## Feature Columns (Total: 22)

### 1. **puzzle_id** (String)
- **Description**: Unique identifier for each puzzle
- **Format**: "puzzle_XXXXXX" (6-digit zero-padded number)
- **Example**: "puzzle_000001"

### 2. **timestamp** (String)
- **Description**: ISO timestamp when the puzzle was generated
- **Format**: YYYY-MM-DDTHH:MM:SS.ffffff
- **Example**: "2025-09-11T11:28:54.046990"

### 3. **is_solvable** (Boolean)
- **Description**: Whether the puzzle has a valid solution path
- **Values**: True/False
- **Purpose**: Binary classification target for ML models

### 4. **total_blocks** (Integer)
- **Description**: Total number of movable blocks on the board
- **Range**: Typically 8-12 blocks
- **Includes**: All block types (1x1, 1x2, 2x1, 2x2) except the goal block

### 5. **block_count_1x1** (Integer)
- **Description**: Number of 1x1 (single unit) blocks
- **Purpose**: Board density and movement complexity analysis

### 6. **block_count_1x2** (Integer)
- **Description**: Number of 1x2 (horizontal rectangle) blocks
- **Purpose**: Horizontal movement pattern analysis

### 7. **block_count_2x1** (Integer)
- **Description**: Number of 2x1 (vertical rectangle) blocks
- **Purpose**: Vertical movement pattern analysis

### 8. **block_count_2x2** (Integer)
- **Description**: Number of 2x2 (large square) blocks
- **Range**: Always 1 (the goal block)
- **Purpose**: Goal block identification

### 9. **goal_initial_row** (Integer)
- **Description**: Starting row position of the goal block (2x2)
- **Range**: 0-3 (top to bottom)
- **Purpose**: Initial goal positioning analysis

### 10. **goal_initial_col** (Integer)
- **Description**: Starting column position of the goal block (2x2)
- **Range**: 0-2 (left to right)
- **Purpose**: Initial goal positioning analysis

### 11. **goal_distance_to_target** (Float)
- **Description**: Euclidean distance from goal block center to target position
- **Calculation**: sqrt((target_row - current_row)² + (target_col - current_col)²)
- **Purpose**: Spatial difficulty measurement

### 12. **goal_manhattan_distance** (Integer)
- **Description**: Manhattan distance from goal block to target position
- **Calculation**: |target_row - current_row| + |target_col - current_col|
- **Purpose**: Heuristic search optimization and difficulty assessment

### 13. **blocks_between_goal_target** (Integer)
- **Description**: Number of blocks obstructing the direct path to target
- **Purpose**: Path complexity and blocking analysis

### 14. **adjacent_1x1_count** (Integer)
- **Description**: Number of 1x1 blocks adjacent to the goal block
- **Purpose**: Immediate movement constraint analysis

### 15. **adjacent_1x2_count** (Integer)
- **Description**: Number of 1x2 blocks adjacent to the goal block
- **Purpose**: Horizontal blocking pattern analysis

### 16. **adjacent_2x1_count** (Integer)
- **Description**: Number of 2x1 blocks adjacent to the goal block
- **Purpose**: Vertical blocking pattern analysis

### 17. **wall_adjacent_sides** (Integer)
- **Description**: Number of goal block sides touching board walls
- **Range**: 0-2 (goal block can touch at most 2 walls)
- **Purpose**: Corner/edge positioning constraints

### 18. **board_visual** (String)
- **Description**: ASCII art representation of the puzzle board
- **Format**: Multi-line string with borders and block positions
- **Purpose**: Visual debugging and board state verification

### 19. **solution_length** (Integer)
- **Description**: Number of moves required to solve the puzzle
- **Value**: 0 if unsolvable, positive integer if solvable
- **Purpose**: Solution complexity measurement

### 20. **solve_time_seconds** (Float)
- **Description**: Time taken by the solver algorithm (BFS/A*)
- **Units**: Seconds with microsecond precision
- **Purpose**: Algorithm performance analysis

### 21. **step_number** (String/Empty)
- **Description**: Reserved for solution step sequence
- **Current Status**: Empty in dataset generation
- **Purpose**: Future solution path analysis

### 22. **initial_block_states** (String)
- **Description**: List of all block positions and dimensions
- **Format**: "[(height, width, row, col), ...]"
- **Purpose**: Complete board state reconstruction

## Data Types Summary

| Feature | Type | Range/Format | ML Relevance |
|---------|------|--------------|--------------|
| puzzle_id | String | "puzzle_XXXXXX" | Identifier |
| timestamp | String | ISO format | Metadata |
| is_solvable | Boolean | True/False | **Target Variable** |
| total_blocks | Integer | 8-12 | **Feature** |
| block_count_1x1 | Integer | 0-6 | **Feature** |
| block_count_1x2 | Integer | 0-6 | **Feature** |
| block_count_2x1 | Integer | 0-6 | **Feature** |
| block_count_2x2 | Integer | 1 | **Feature** |
| goal_initial_row | Integer | 0-3 | **Feature** |
| goal_initial_col | Integer | 0-2 | **Feature** |
| goal_distance_to_target | Float | 0.0-4.0 | **Feature** |
| goal_manhattan_distance | Integer | 0-7 | **Feature** |
| blocks_between_goal_target | Integer | 0-10 | **Feature** |
| adjacent_1x1_count | Integer | 0-4 | **Feature** |
| adjacent_1x2_count | Integer | 0-4 | **Feature** |
| adjacent_2x1_count | Integer | 0-4 | **Feature** |
| wall_adjacent_sides | Integer | 0-2 | **Feature** |
| board_visual | String | ASCII art | Visualization |
| solution_length | Integer | 0+ | **Target/Feature** |
| solve_time_seconds | Float | 0.0+ | Performance |
| step_number | String | Empty | Reserved |
| initial_block_states | String | Block list | Reconstruction |

## Machine Learning Applications

### Primary Features (15 numerical features):
- total_blocks, block_count_1x1, block_count_1x2, block_count_2x1, block_count_2x2
- goal_initial_row, goal_initial_col, goal_distance_to_target, goal_manhattan_distance
- blocks_between_goal_target, adjacent_1x1_count, adjacent_1x2_count, adjacent_2x1_count
- wall_adjacent_sides, solution_length

### Target Variables:
- **Binary Classification**: is_solvable (True/False)
- **Regression**: solution_length (number of moves)

### Metadata:
- puzzle_id, timestamp, solve_time_seconds, board_visual, initial_block_states

## Generation Configuration

- **Algorithm**: A* search with Manhattan distance heuristics (default)
- **Fallback**: BFS for comparison analysis
- **Multicore**: Parallel processing across 8 CPU cores
- **Timeout**: Configurable solver timeout (default: 30 seconds)
- **Output**: CSV format with 22 columns per puzzle

## Dataset Statistics

- **Features**: 22 total columns
- **Numerical Features**: 15 for ML training
- **Target Variables**: 2 (solvability, solution length)
- **Visualization**: ASCII board representation included
- **Performance**: ~8x speedup with multicore processing